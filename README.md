JI|己-记-纪
===

这是一个主要面向我自己的，让我更加愉悦的去阅读自己日记的插件。当然也许未来会根据自己的需求增加更多相关甚至不相关的功能。

似乎有一些朋友喜欢这些东西，所以尝试将它发布出来。但很可能**你需要按照我的思路方法格式去书写日记，才能获得更加理想的效果**。毕竟，如上面所说这是一个私人定制。

好消息，是我尽量将各种细节制作成选项，所以还是有一些个性化空间的。

如果你喜欢本插件，希望可以支持我一下~ [老鼠爱发电](https://afdian.com/a/daomishu)，一杯咖啡或者一个 Star 都能让我感受到大家的支持，这也是我继续更新的动力，非常感谢！

## 安装方法

- 下载右侧发布的版本
- 在 Obsidian 的仓库中找到如下路径 `.obsidian/plugins`，在其中创建一个文件夹，比如 `Obsidian-JI`
- 然后将下载的内容解压到这个文件夹中
- 重启 Obsidian，然后启用该插件，就可以开始使用了

## 前置信息（我的笔记格式）

### 关于日记

我将每一年同一天的日记都放在一个文档内，比如：`Daily/06/06-18.md` 蜘蛛就是每年 6 月 18 日的日记。这样在记录这篇日记的时候还可以回看完全属于自己的“历史上的今天”。这样就模拟了使用五年日记的体验。你会发现这个路径中第一次 06 的路径是冗余的，这是因为我不想将366篇文档都放在同一个文件夹下会非常不容易翻查，所以按照月份将他们分到了 12 个文件夹内。

每一篇日记中，会使用二级标题标注日期，比如这样：`## 2024-12-15 星期日`。我额外标注的是星期几，我觉得这是比较影响我阅读体验的。这里建议参照我的标题格式，因为内部的一些验证可能没有做其他情况的适配。

在日记的内容中每一条目前都会用加粗格式写上时间，比如：

```md
## 2024-12-15 星期日

**19:39** 在仔细地为插件书写文档，希望大家能喜欢这款插件。
```

目前日记的添加我是使用 QuickAdd 插件来完成的。QuickAdd 中创建一个“捕获”（Capture），配置如下（只列出需要修改的内容）：

- **File Name**：`Daily/{{DATE:MM/MM-DD}}.md`
- **Create file with given template**：这里根据你自己的需求设定
- **Insert after**：`## {{DATE:YYYY-MM-DD dddd}}`
- **Insert at end of section**：此选项开启
- **Create line if not found**：此选项开启
- **Capture format**：此选项开启，下方填入：

```md

**{{DATE:HH:mm}}**：{{value}}

```

注意这行内容的上下各有一个空行，这样效果会比较好。

### 关于周记

这里相对随意一些，对于内容格式并没有要求。在路径上，不要日期相关，即不要使用具体的日期，而是某一年第几周这样的表达。比如我使用的格式：`Weekly/2024/2024week01.md`。

## 使用方法

先在插件设置中正确的设置路径等，然后按如下格式在笔记中创建代码块即可。

### 日记视图

````md
```ji
type: daily
```
````

目前只是固定格式，未来可能会有一些设置细节可以在代码块中进行调整。

### 周记视图

````md
```ji
type: weekly
```
````

目前只是固定格式，未来可能会有一些设置细节可以在代码块中进行调整。

## 工具类

可以通过在笔记的 frontmatter 中添加 `cssclasses` 属性来为当前笔记添加一些类名。以下列举几个实用的类：

### 缩减栏宽

在 Obsidian 的 设置——编辑器——显示 中有此选项，但如果你和我一样关闭了此选项，但是又希望某些笔记显示宽度不要那么大，就可以为此笔记添加 `is-readable-line-width` 类名。唯一的不足是如果编辑当前笔迹或导致效果失效。这大概算是一个很偏门的小技巧吧。

### 移动设备宽视图

默认在移动设备下两侧的空白是有点大的，如果阅读笔记，这个问题并不明显。但如果显示上述视图，两侧的空白就会显得很突兀了。这时候可以给笔记添加 `mobile-wide-view` 类名，在移动设备下该篇笔记就会隐藏两侧的空白。此功能是本插件提供的。需要自己手动设置是为了不影响其他笔记的显示效果，并保证用户的灵活性。比如将上述视图和笔记混合在一起的时候，可能并不希望隐藏两侧空白。

## 写在最后

因为本插件还在早期开发阶段所以未来可能会有比较大的变动。推荐大家[在爱发电支持我一下](https://afdian.com/item/e808efe84f7a11ed86ec52540025c377)，然后私信我，可以加入我的一个小小的微信群，用来共同分享和讨论一些笔记的使用心得。